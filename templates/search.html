<!--
(c) 2025 Lars Lerchbacher,
Lerchbacher B端cherdatenbank templates/search.html
This is the search page
The following page was made using the flask templates system
-->

<!-- Uses base.html as a template for this page -->
{% extends "base.html" %}

<!-- Use Bootstrap for the form of this page -->
{% from 'bootstrap5/form.html' import render_form %}

<!-- Adds additional tags to the head tag -->
{% block head %}

	<!-- Links a stylesheet -->
	<link rel="stylesheet" href="static/book.css">

	<!-- set the title of this page -->
	<title>Suche - Lerchbacher B端cherdatenbank</title>

{% endblock %}

<!-- Adds the main content of the page -->
{% block content %}

    <a href="/search?type=Buch">B端cher Suchen</a>
    <a href="/search?type=Autor">Autoren Suchen</a>
    <a href="/search?type=Alles">Allgemeine Suche</a>

    {% if type == "Alles" %}
        {{ render_form(searchForm) }}
    {% endif %}

    {% if type == "Buch" %}
        {{ render_form(bookForm) }}
    {% endif %}

    {% if type == "Autor" %}
        {{ render_form(authorForm) }}
    {% endif %}

    <h1>Suchergebnisse: </h1>

	<h1>B端cher</h1>
	<ul>

		{% for book in books %}

			<li>

				<div class="book">

					<h2>{{book["title"]}}</h2>

					<img src="{{covers[books.index(book)]}}">

					<br>

					<a href="/books/details?id={{book["id"]}}">Weiterlesen...</a>

				</div>

			</li>

		{% endfor %}

	</ul>

	<h1>Autoren</h1>

		<ul>
		{% for author in authors %}
			<li>
				<h2>{{ author.name }}</h2>

				<p>
				Aus: {{author.country}}
				</p>
				<a href="/authors/details?id={{author.id}}">Weiterlesen...</a>
			</li>
		{% endfor %}
	</ul>

{% endblock %}